<div class="container">
  <div class="d-flex justify-content-center mt-5">
    <div class="col-lg-6 mt-5 p-4 container-login">
      <div class="text-center mb-4">
        <h4>Acesse sua conta para continuar</h4>
        <p>Digite seu e-mail e senha cadastrados</p>
      </div>

      <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
        <div class="form-group mb-3">
          <input
            class="form-control form-control-lg"
            type="email"
            placeholder="Email"
            formControlName="email"
          />
          <small
            class="form-text"
            *ngIf="loginForm.get('email')?.touched && loginForm.get('email')?.errors?.['required']"
          >
            Email é obrigatório
          </small>
          <small
            class="form-text"
            *ngIf="loginForm.get('email')?.touched && loginForm.get('email')?.errors?.['email']"
          >
            Email inválido
          </small>
        </div>

        <div class="form-group mb-3">
          <input
            class="form-control form-control-lg"
            type="password"
            placeholder="Senha"
            formControlName="password"
          />
          <small
            class="form-text"
            *ngIf="loginForm.get('password')?.touched && loginForm.get('password')?.errors?.['required']"
          >
            Senha é obrigatória
          </small>
        </div>

        <div class="d-flex justify-content-center">
          <button
            type="submit"
            class="btn btn-primary"
            [disabled]="loginForm.invalid || loading"
          >
            {{ loading ? "Entrando..." : "Entrar" }}
          </button>
        </div>
      </form>
    </div>
  </div>
  <div class="d-flex justify-content-center mt-5">
    Não tem uma conta?
    <a
      href="#"
      data-bs-toggle="modal"
      data-bs-target="#exampleModal"
      class="ms-2 text-primary"
      style="cursor: pointer"
    >
      Cadastre-se
    </a>
  </div>

  <!-- Modal -->
  <div
    class="modal fade"
    id="exampleModal"
    tabindex="-1"
    aria-labelledby="exampleModalLabel"
    aria-hidden="true"
  >
    <div class="modal-dialog modal-lg">
      <div class="modal-content">
        <div class="modal-header">
          <h1 class="modal-title fs-5" id="exampleModalLabel">
            Cadastrar Usuário
          </h1>
          <button
            type="button"
            class="btn-close"
            data-bs-dismiss="modal"
            aria-label="Close"
          ></button>
        </div>
        <div class="modal-body">
          <app-user-form
            [user]="user"
            [buttonLabel]="'Cadastrar'"
            [onSubmit]="createUser"
            [isEdit]="false"
            actionBackButton="/login"
            [newUser]="true"
          ></app-user-form>
        </div>
      </div>
    </div>
  </div>
</div>
